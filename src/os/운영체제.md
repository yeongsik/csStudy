# 운영체제 OS

생성일: 2023년 3월 15일 오전 11:39

# 운영체제를 알야아하는 이유

- 운영체제 : 컴퓨터를 동작시키는 근원적인 프로그램
- 모든 프로그램은 실행을 위해 자원을 필요로 한다.
    - 여기서 자원이란 프로그램 실행에 있어서 마땅히 필요한 요소들
        - 컴퓨터 네가지 핵심 부품 포함
- 운영체제는 실행할 프로그램에 필요한 자원을 할당한다. → 올바른 실행을 돕는 특별한 프로그램이다.
- 운영체제도 프로그램이기 때문에 실행되려면 메모리에 적재되어야 한다.
    - 일반적인 응용프로그램은 메모리의 사용자영역에 적재
    - 운영체제는 메모리의 커널영역에 적재
- 응용 프로그램이 메모리의 빈공간에 지정해주는 것도 운영체제의 기능

- 운영체제 없이 프로그램 개발한다면?
    - 개발자가 하드웨어에 직접 접근하는 코드도 다 작성 해야한다.
        - 프로그램 메모리 적재 코드
        - CPU 동작 코드
        - 모니터에 계산 결과 출력 코드
        - 등등
    
    ⇒ 이 모든 것들을 운영체제에서 대신해준다. 
    

- 운영체제는 프로그램을 위한 프로그램이므로 프로그램을 만드는 개발자는 운영체제에 대해 알고 있어야 한다.
    - 내가 개발한 프로그램을 도와주는 프로그램 → 운영체제
    - 운영체제가 알려주는 메시지 해석을 해야할 수도 있다.
        - 해당 프로그램이 잘못될 경우 운영체제에서 메시지를 보낸다.

# 운영체제의 큰 그림

### 커널이란

운영체제가 공통적으로 제공하는 가장 핵심 서비스를 담당해주는 부분

- 실행 중인 프로세스에서 자원 직접접근은 위험하다.
    
    자원 접근 시 OS에 요청 → OS가 대신 접근해준다. (문지기)
    
    - 예제 파일 저장 시 흐름
        
        응용프로그램 → 운영체제(하드디스크 저장코드) → 하드웨어
        

### 이중 모드

CPU가 명령어를 실행하는 모드로 크게 사용자모드와 커널모드로 구분된다.

- 사용자 모드
    - 운영체제 서비스를 제공받을 수 없는 실행모드
    - 커널 영역의 코드를 실행할 수 없다.
    - 자원접근 불가
- 커널모드 (운영체제에 도움을 받을 수 있는 모드)
    - 운영체제의 서비스를 제공받을 수 있는 실행모드
    - 자원 접근을 비롯한 모든 명령어 실행 가능

⇒ 언제 모드가 변경될까? 

시스템 호출 시 커널모드로 변환 → 운영체제에 요청

시스템 호출 : 일종의 소프트웨어 인터럽트

### 시스템 호출(System Call)

- 소프트웨어 인터럽트
    - 시스템 콜 → 운영체제 코드 실행 → 시스템 콜 복귀
- 커널 사용자 모드 번갈아가면서 사용

# 운영체제의 핵심 서비스 ( 커널의 핵심 기능)

- 프로세스 관리
    - 프로세스 == 실행중인 프로그램
    - 수많은 프로세스들이 **동시에** 실행
    
    <aside>
    💡 여기서 동시에란 아주아주 빠르게 번갈아 가면서 실행을 의미
    
    </aside>
    
    - 동시 다발적으로 생성/실행/삭제 되는 다양한 프로세스를 일목요연하게 관리
- 자원접근 및 할당
    - CPU → CPU 스케줄링 : 어떤 프로세스를 먼저, 얼마나 오래 실행할까? 를 정함
    - 메모리 → 페이징, 스와핑 등 : 메모리 비어있는 공간 찾기, 메모리를 효율적 관리
    - 입출력 장치 → 인터럽트 서비스루틴 : 커널영역 적재 코드 , 응용프로그램이 입출력 장치에 접근할 때 인터럽트 서비스 루틴 할당
- 파일시스템 관리
    - 파일과 폴더에 대한 내용
    - 관련된 정보를 파일이라는 단위로 저장 장치에 보관
    - 파일들을 묶어서 폴더(디렉토리) 단위로 저장 장치에 보관